<html lang="es" data-lt-installed="true"><head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Tratamiento Potenciador Zipper Strong </title>
  <meta name="description" content="Consigue resultados de forma natura sin efectos secundarios">
  <meta name="keywords" content="Deja de depender de la pastillita azul tratamiento Zipper Strong de Renovex en l√≠nea y laboratorios Nhaturalya ">

  <!-- Fuentes (no bloqueantes) -->
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;800&amp;display=swap" as="style" onload="this.rel='stylesheet'">
  <noscript>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;800&display=swap" rel="stylesheet">
  </noscript>
  
 <!-- TikTok Pixel Code Start -->
<script>
!function (w, d, t) {
  w.TiktokAnalyticsObject=t;var ttq=w[t]=w[t]||[];ttq.methods=["page","track","identify","instances","debug","on","off","once","ready","alias","group","enableCookie","disableCookie","holdConsent","revokeConsent","grantConsent"],ttq.setAndDefer=function(t,e){t[e]=function(){t.push([e].concat(Array.prototype.slice.call(arguments,0)))}};for(var i=0;i<ttq.methods.length;i++)ttq.setAndDefer(ttq,ttq.methods[i]);ttq.instance=function(t){for(
var e=ttq._i[t]||[],n=0;n<ttq.methods.length;n++)ttq.setAndDefer(e,ttq.methods[n]);return e},ttq.load=function(e,n){var r="https://analytics.tiktok.com/i18n/pixel/events.js",o=n&&n.partner;ttq._i=ttq._i||{},ttq._i[e]=[],ttq._i[e]._u=r,ttq._t=ttq._t||{},ttq._t[e]=+new Date,ttq._o=ttq._o||{},ttq._o[e]=n||{};n=document.createElement("script")
;n.type="text/javascript",n.async=!0,n.src=r+"?sdkid="+e+"&lib="+t;e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(n,e)};


  ttq.load('D4MSL7JC77UBCCH9I42G');
  ttq.page();
}(window, document, 'ttq');
</script>
<!-- TikTok Pixel Code End -->

  <style>
    :root{
      --red:#ff0000; --red-dark:#0a6f06; --gold:#ffb300; --black:#0b0b0b;
      --surface:#111; --card:#151515; --muted:#b8c0cc;
      --ok:#10b981; --warn:#f59e0b; --ring:#ffffff22;
    }
    *{box-sizing:border-box}
    html,body{height:100%;scroll-behavior: smooth;}
    body{margin:0; background: black;color:#ffffff;font-family:Poppins,system-ui,Segoe UI,Roboto,Arial,sans-serif;padding:2px;overflow-x:hidden}
    a{color:inherit;text-decoration:none}
    img{max-width:100%;height:auto;display:block;margin:0 1px;}
    .offer-img img{width: 100%;}

    /* Botones */
    .btn{display:inline-flex;gap:.6rem;align-items:center;justify-content:center;padding:6px;border-radius:999px;background:var(--red);font-weight:700;letter-spacing:.2px;width:100%;color:#fff;transition:.2s;margin:16px 2px;animation:heartbeat 1.5s ease-in-out infinite both;cursor:pointer}
    #submitBtn{widows: auto; padding: 12px; font-size: 1.1rem; margin-top: 12px;}
    h3{animation:heartbeat 2.5s ease-in-out infinite both;}
    .btn:hover{transform:translateY(-1px)}
    .btn.outline{background:transparent;border:1px solid #ffffff33;animation:none}
    .contenedorbtn{display:flex;justify-content:center;position: sticky;
    top: 90vh;z-index:9999}
    .contenedorbtn .btn{right:0;margin:0 auto;justify-content:center;background:var(--red);gap:0 6px;padding:2px 6px;max-width:335px;z-index:9999;}
    .contenedorbtn .btn span{color:yellow;font-size:23px}
    .llamado{font-size:1.2rem;font-weight:800;text-align: center;line-height: 16px;}

    /* Modal */
    .modal-overlay {
      opacity: 0;
      display: flex;
      position: fixed;
      inset: 0;
      background: #000a;
      backdrop-filter: blur(4px);
      align-items: center;
      justify-content: center;
      z-index: 10000;
      padding: 16px;
      transition: opacity .3s ease;
      pointer-events: none;
    }
    .modal-overlay.active { opacity: 1; }
    .modal-overlay.ready { pointer-events: all; }
    .modal{width:min(960px,100%);max-height:90vh;overflow:auto;background:#000000b0;border:1px solid rgb(255 255 255 / 43%);border-radius:16px;box-shadow:0 30px 80px #000c;color: white;}
    .modal header{top:0;background:white;padding:6px;display:flex;justify-content:center;align-items:center;position:sticky;min-height: 40px;z-index:100;}
    .modal h3{margin:0;text-align: center;}
    .modal .close{background:transparent;border:0;color:#000000;font-size:1.9rem;cursor:pointer;line-height:1;position: absolute; right: 12px; top: 3px; border: solid 1px black; border-radius: 50%;}
    .modal .body{padding:16px}
    .modal .footer{padding:16px;border-top:1px solid rgba(255,255,255,0.06);display:flex;gap:12px;flex-wrap:wrap;justify-content:flex-end}

    /* Ofertas */
    .offers{display: flex;
    flex-wrap: wrap;
    justify-content: center;
    align-items: flex-start;gap:10px;margin:12px 0 8px}
    .offer-card{display:grid;grid-template-columns:92px 1.6fr auto;gap:12px;align-items:center;padding:10px 8px;border:1px solid rgba(255,255,255,0.05);border-radius:14px;background:#101010;cursor:pointer;transition:.18s;position: relative;}
    .offer-card:hover{border-color:rgba(255,255,255,0.14);transform:translateY(-2px)}
    .offer-card.active{outline:3px solid #107d27;box-shadow:0 0 0 4px rgba(255,255,255,0.06) inset}
    .offer-img{width:100%;height:100%;display:flex;align-items:center;justify-content:center;}
    .offer-title{font-weight:700;font-size:14px;}
    .offer-badge{display:inline-flex;align-items:center;gap:6px;font-size:.75rem;padding:4px 8px;border-radius:999px;border:1px solid rgba(255,255,255,0.06);margin-left:6px}
    .badge-hot{background:#107d27;color:#fff;border-color:transparent;margin-top:6px;}
    .badge-save{background:#007f00;color:#fff;border-color:transparent;padding:3px 16px;margin-top:6px;font-size:10px;}
    .price{display:flex;flex-direction:column;}
    .price .compare{color:#94a3b8;text-decoration:line-through;font-size:.9rem}
    .price .current{font-size:1rem;font-weight:800}
    .totals{display:grid;gap:6px;padding:12px;border:1px dashed rgba(255,255,255,0.06);border-radius:12px;background:#0b0b0b;margin:8px 0 14px}
    .row{display:flex;justify-content:space-between;gap:12px}
    .row strong{font-weight:800}
    .muted{color:#a8b0b8;font-weight:400;font-size:.95rem}
    #modalSubtitle{text-align: center;font-size:0.9rem;margin-top:4px;color: white;}

    /* Layout */
    header.hero{position:relative;overflow:hidden;max-width:1200px;z-index:97;display: flex;flex-direction: column;flex-wrap: wrap;align-content: center;justify-content: center;align-items: center;}
    header.hero img{width:100%;height:auto;display:block;object-fit:cover;}
    main{display: none;}
    main.show-main{max-width:1100px;margin:4px auto;padding:0 2px;display: flex;flex-direction: column;flex-wrap: wrap;align-content: center;justify-content: center;align-items: center;}

    /* Form */
    #orderForm{padding:18px;display:grid;gap:14px;background:transparent}
    #orderForm div{display:grid;grid-template-columns:1fr 1fr;gap:12px}
    .in{width:100%;margin-top:6px;padding:12px 14px;border:1px solid #ffffff10;background:#cecece;border-radius:12px;color:#000000;outline:none}
    .in:focus{border-color:var(--gold);box-shadow:0 0 0 4px var(--ring)}
    label{display:block;font-weight:600}
    .error{border-color:#ef4444!important}
    /* Corregido #totalsBox anidamiento inv√°lido */
    #totalsBox { grid-template-columns: 1fr !important;width: 100%; }
    #totalsBox .row { text-align: center; gap: 6px; }

    /* Input con √≠cono */
    .field{position:relative;display:block}
    .field .ico{position:absolute;left:12px;top:50%;transform:translateY(-50%);width:18px;height:18px;opacity:.8;pointer-events:none;color:#000000}
    .in.with-ico{padding-left:44px}

    /* Toast */
    .toast{text-align: center; position:fixed;top:45%;left:50%;transform:translateX(-50%) translateY(-10px);background:linear-gradient(90deg,#10b981,#059669);color:#fff;padding:12px 18px;border-radius:10px;box-shadow:0 8px 30px rgba(2,6,23,0.6);opacity:0;pointer-events:none;transition:opacity .25s ease, transform .25s ease;z-index:11000;font-weight:700;width: 80vw;}
    .toast.show{opacity:1;transform:translateX(-50%) translateY(0);pointer-events:auto}

    /* Timer */
    .timer{    display: flex;gap: 0;justify-content: center;align-items: center;flex-wrap: wrap;position: fixed;bottom: 0px;left: 0px;z-index: 20;color: red;background-color: #000000cc;padding: 6px;padding-bottom: 74px;border-radius: 16px;width: 100vw;}
    .timer .box{padding:2px;display:flex;flex-wrap:wrap;justify-content:center;align-items:center;font-weight: 600;}

    /* ===== Carrusel de videos ===== */
    .video-carousel {
      position: relative;
      display: flex;
      align-items: center;
      justify-content: center;
      overflow: hidden;
      max-width: 420px;
      margin: 0 auto 16px;
    }
    .carousel-track {
      display: flex;
      transition: transform 0.4s ease;
      touch-action: pan-y;
    }
    .carousel-item {
      flex: 0 0 100%;
      display: flex;
      justify-content: center;
      align-items: center;
    }
    .carousel-item video {
      width: 90%;
      height: auto;
      aspect-ratio: 9 / 16;
      border: 2px solid #fff;
      border-radius: 12px;
      box-shadow: 0 0 8px rgba(0,0,0,0.6);
      background-color: #000;
    }
    .carousel-btn {
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
      background: #ffffff;
      border: none;
      color: #0c8b08;
      font-size: 2rem;
      cursor: pointer;
      padding: 4px 10px;
      border-radius: 50%;
      z-index: 10;
      transition: background 0.2s ease;
      -webkit-animation: slide-left 3s cubic-bezier(0.250, 0.460, 0.450, 0.940) infinite both;
              animation: slide-left 3s cubic-bezier(0.250, 0.460, 0.450, 0.940) infinite both;
    }
    @-webkit-keyframes slide-left { 0%{transform:translateX(0)}100%{transform:translateX(-5px)} }
    @keyframes slide-left { 0%{transform:translateX(0)}100%{transform:translateX(-5px)} }
    .carousel-btn.prev { left: 8px; }
    .carousel-btn.next { right: 8px; }

    @media (max-width: 600px) {
      .video-carousel { max-width: 100%; }
      .carousel-btn { font-size: 1.6rem; }
    }

    @media (max-width:980px){
      #orderForm div{grid-template-columns:1fr;gap:12px}
      .offer-card{grid-template-columns: 1fr;
        width: 45%;}
    }

    @keyframes heartbeat {
      from {transform: scale(1)}
      10% {transform: scale(0.91)}
      17% {transform: scale(0.98)}
      33% {transform: scale(0.87)}
      45% {transform: scale(1)}
    }

    .site-footer{
      margin-top:48px;
      background:#0e0e0e;
      color:#eaeaea;
      border-top:1px solid rgba(255,255,255,.08);
      box-shadow:0 -10px 30px rgba(0,0,0,.25) inset;
    }
    .trust-badges{
      display:flex;flex-wrap:wrap;gap:10px;justify-content:center;padding:16px 10px 6px;border-bottom:1px solid rgba(255,255,255,.06)
    }
    .trust-badges .badge{
      display:inline-flex;align-items:center;gap:8px;
      background:#111;border:1px solid rgba(255,255,255,.08);
      padding:8px 12px;border-radius:999px;font-weight:700;font-size:12px;
    }
    .footer-grid{display:grid;grid-template-columns:1fr 1fr;gap:24px;padding:20px}
    .site-footer h4{Margin:6px 0 8px;font-size:1.05rem}
    .site-footer p{margin:6px 0}
    .site-footer details{margin:8px 0 4px}
    .site-footer summary{cursor:pointer;font-weight:700}
    .site-footer .legal-links{display:flex;gap:8px;flex-wrap:wrap;margin-top:8px}
    .site-footer .legal-links a{border-bottom:1px dotted #ffffff33}
    .steps{margin:8px 0 0 18px}
    .steps li{margin:6px 0}
    .legal-bar{border-top:1px solid rgba(255,255,255,0.06);padding:12px 20px;text-align:center;background:#0b0b0b}
    @media (max-width:980px){ .footer-grid{grid-template-columns:1fr}}

    /* Totals layout - asegurar 2 columnas */
    .totals {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 6px;
      padding: 12px;
      border: 1px dashed rgba(255,255,255,0.06);
      border-radius: 12px;
      background: #0b0b0b;
      margin: 8px 0 14px;
    }
    .totals .row:first-child {
      grid-column: 1 / -1;
      align-items: center;
    }

    /* Carrusel 2x2 */
    .carousel-container2 {
      width: 100%;
      overflow: hidden;
      -webkit-overflow-scrolling: touch;
      position: relative;
    }
    .carousel-track2 {
      display: flex;
      gap: 8px;
      align-items: stretch;
      animation: carousel-scroll 14s linear infinite;
      will-change: transform;
    }
    .carousel-container2:hover .carousel-track2,
    .carousel-container2:focus-within .carousel-track2 {
      animation-play-state: paused;
    }
    .slide {
      flex: 0 0 50%;
      min-width: 80px;
      display: flex;
    }
    .slide img {
      width: 100%;
      height: auto;
      display: block;
      border-radius: 8px;
      object-fit: cover;
    }


    /* ===== Video wrap + barra progreso + aviso ===== */
.video-wrap{
  width:100%;
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  gap:10px;
  position:relative;
}

/* Barra de progreso */
.video-progress{
  width: min(65vw, 520px);
  height: 10px;
  background: rgba(255,255,255,0.18);
  border-radius: 999px;
  overflow:hidden;
  border: 1px solid rgba(255,255,255,0.22);
}
.video-progress__fill{
  width:0%;
  height:100%;
  background: linear-gradient(90deg, #00ff2a, #ffb300);
  border-radius: 999px;
  transition: width .08s linear;
}

/* Aviso de inventario */
.stock-alert{
  width: min(95vw, 520px);
  text-align:center;
  padding:10px 12px;
  border-radius:14px;
  border:1px solid rgba(255,255,255,0.18);
  background: rgba(255, 255, 255, 0.97);
  font-size: 0.95rem;
  line-height: 24px;
  color: #000000;
}
.stock-alert .countdown{
  display:inline-block;
  font-weight:800;
  color: #ffb300;
  margin-left:6px;
}

    @keyframes carousel-scroll { 0% { transform: translateX(0); } 100% { transform: translateX(-50%); } }
    @media (max-width:420px){ .slide { flex: 0 0 30%; } @keyframes carousel-scroll { 0% {transform:translateX(0);} 100% {transform:translateX(-100%);} } }

    /* Testimonios */
    .testimonial-track{ display:flex; gap:12px; align-items:stretch; will-change:transform; --speed:18s; animation: scroll-left var(--speed) linear infinite; }
    .testimonial-slide{ flex: 0 0 280px; min-width:220px; max-width:320px; padding:10px; display:flex; gap:8px; align-items:flex-start; }
    .testimonial-meta{font-size:0.9rem;line-height:1.2}
    .testimonial-meta .name{font-weight:700}
    .testimonial-meta .city{font-size:0.8rem;color:#9aa3a8}
    .testimonial-text{font-size:0.9rem;color:#e6f3ea;margin-top:6px}
    @keyframes scroll-left { 0%{ transform: translateX(0); } 100%{ transform: translateX(calc(-50%)); } }
    @keyframes scroll-right { 0%{ transform: translateX(calc(-50%)); } 100%{ transform: translateX(0); } }
    .testimonial-track.direction-right{ animation-name: scroll-right; }
    .testimonial-carousel:hover .testimonial-track, .testimonial-carousel:focus-within .testimonial-track{ animation-play-state: paused; }
    @media (max-width:620px){ .testimonial-track{ gap:8px } .testimonial-slide{ flex: 0 0 70%; min-width:60%; } }
    @media (prefers-reduced-motion: reduce){ .testimonial-track{ animation: none; } }

    /* Galer√≠a */
    .gallery { display: flex; flex-wrap: wrap; gap: 8px; justify-content: center; margin-bottom: 20px; align-items: stretch; }
    .gallery .cell { flex: 0 0 calc(50% - 8px); display: block; }
    .gallery img { width: 100%; height: 100%; display: block; border-radius: 8px; object-fit: cover; }
    @media (min-width: 900px) { .gallery .cell { flex: 0 0 calc(33.333% - 8px); } }
    @media (max-width: 420px) { .gallery .cell { flex: 0 0 100%; } }



  
  </style>

<style>.hidden-body{ display:none !important; }</style></head>
<body class="">

  <header class="hero">
    <img src="https://zipperstrong.renovexenlinea.com/imagencheckout.webp" alt="Shilajit Detox" fetchpriority="high" decoding="async" width="1200" height="675">
    <div style="display: flex;flex-wrap: wrap;justify-content: center;align-items: center;width: 100%;">
             <video style="width: 65vw;"
            src="https://zipperstrong.renovexenlinea.com/video2peque.mp4" id="video1" autoplay controls>
        </video>
        <div class="video-progress" aria-label="Progreso del video">
    <div class="video-progress__fill" id="videoProgressFill"></div>
  </div>

  <!-- Aviso de agotado + cuenta regresiva -->
  <div class="stock-alert" id="stockAlert" role="status" aria-live="polite">
    <strong style="color: red; font-size: 22px;line-height: 30px;text-shadow: 1px 1.3px #f7f7f7;">PRODUCTO AGOTADO</strong> <br> Inventario disponible en:
    <span class="countdown" id="stockCountdown">05:00</span> <br>
    <span>(solo <strong>100</strong> unidades)</span>
  </div>
    </div>
  </header>

  <main>


    <div style="width: 100%;position: relative;display: flex; flex-wrap: wrap; justify-content: center;z-index: 96;">
      <img src="https://zipperstrong.renovexenlinea.com/enero1.webp" alt="" >

    </div>
    <a href="#checkout" class="btn open-checkout" role="button" aria-label="Pagar al recibir" style="position: fixed; bottom: 12px;z-index: 95;width: 90%;transition: .5s;">
      <span class="llamado">üõí PAGA EN CASA üõí<br> <span style="font-size: .9rem;font-weight: 400;"><span style="color: yellow;font-weight: 600;">GRATIS:</span> Org√°smico <span style="color:yellow;font-weight: 600;">+</span> Retardante <span style="color:yellow;font-weight: 600;">+</span> Env√≠o</span></span>

    </a>
    

          <div class="timer" style="margin:0; ">
        <div style="text-align:center"><span style="font-size:.9rem;color:#fff;padding-right: 12px;">Promo Finaliza en</span></div>
        <div class="box"><div class="t-h" style="font-size:0.9rem">02</div></div>:
        <div class="box"><div class="t-m" style="font-size:0.9rem">50</div></div>:
        <div class="box"><div class="t-s" style="font-size:0.9rem">00</div></div>
      </div>

    <img loading="lazy" decoding="async" src="https://zipperstrong.renovexenlinea.com/enero2.webp" alt="" style="margin-top: 7px">

<h3 style="text-align:center;margin-top: -15px;font-size: 21px;">Esto dicen <br> <strong style="color: var(--gold);font-size: 24px;">PACIENTES</strong> y <strong style="color: var(--gold);font-size: 24px;">EXPERTOS</strong></h3>
    <!-- ===== CARRUSEL DE VIDEOS ===== -->
    <section class="video-carousel" style="position: relative;">
      <button class="carousel-btn prev" aria-label="Anterior">‚ùÆ</button>
      <div class="carousel-track">
        <div class="carousel-item"><video src="https://zipperstrong.renovexenlinea.com/landingvideo1.mp4" playsinline="" preload="metadata" controls=""></video></div>
        <div class="carousel-item"><video src="https://zipperstrong.renovexenlinea.com/landingvideo2.mp4" playsinline="" preload="metadata" controls=""></video></div>
        <div class="carousel-item"><video src="https://zipperstrong.renovexenlinea.com/landingvideo3.mp4" playsinline="" preload="metadata" controls=""></video></div>
        <div class="carousel-item"><video src="https://zipperstrong.renovexenlinea.com/faltante1.mp4" playsinline="" preload="metadata" controls=""></video></div>
        

      </div>
      <button class="carousel-btn next" aria-label="Siguiente">‚ùØ</button>
    </section>

    

    <img loading="lazy" decoding="async" src="https://zipperstrong.renovexenlinea.com/navi2.webp" alt="">
    
    <img loading="lazy" decoding="async" src="https://zipperstrong.renovexenlinea.com/invima.webp" alt="">



   


    
    <div class="testimonials-wrap" aria-hidden="false" style="position: relative; bottom: 15px;width: 95vw;overflow-x: hidden;">
      <h2 style="text-align: center;">ELLOS YA TIENEN RESULTADOS</h2>
      
      <!-- Carrusel 2x2 -->
          <section class="carousel-container2" aria-roledescription="carrusel de testimonios">
            <section class="carousel-track2" style="animation-duration: 28s;">
              <section class="slide"><img src="https://zipperstrong.renovexenlinea.com/comprador1.webp" alt="Cliente 1" loading="lazy"></section>
              <section class="slide"><img src="https://zipperstrong.renovexenlinea.com/comprador2.webp" alt="Cliente 2" loading="lazy"></section>
              <section class="slide"><img src="https://zipperstrong.renovexenlinea.com/comprador3.webp" alt="Cliente 3" loading="lazy"></section>
              <section class="slide"><img src="https://zipperstrong.renovexenlinea.com/comprador4.webp" alt="Cliente 4" loading="lazy"></section>
              <!--<section class="slide"><img src="https://zipperstrong.renovexenlinea.com/comprador5.webp" alt="Cliente 5" loading="lazy"></section>-->
              
               <section class="slide"><img src="https://zipperstrong.renovexenlinea.com/comprador1.webp" alt="Cliente 1" loading="lazy"></section>
              <section class="slide"><img src="https://zipperstrong.renovexenlinea.com/comprador2.webp" alt="Cliente 2" loading="lazy"></section>
              <section class="slide"><img src="https://zipperstrong.renovexenlinea.com/comprador3.webp" alt="Cliente 3" loading="lazy"></section>
              <section class="slide"><img src="https://zipperstrong.renovexenlinea.com/comprador4.webp" alt="Cliente 4" loading="lazy"></section>
              <!--<section class="slide"><img src="https://zipperstrong.renovexenlinea.com/comprador5.webp" alt="Cliente 5" loading="lazy"></section>
              <section class="slide"><img src="https://zipperstrong.renovexenlinea.com/comprador6.webp" alt="Cliente 6" loading="lazy"></section>-->
            <section class="slide"><img src="https://zipperstrong.renovexenlinea.com/comprador1.webp" alt="Cliente 1" loading="lazy"></section><section class="slide"><img src="https://zipperstrong.renovexenlinea.com/comprador2.webp" alt="Cliente 2" loading="lazy"></section><section class="slide"><img src="https://zipperstrong.renovexenlinea.com/comprador3.webp" alt="Cliente 3" loading="lazy"></section><section class="slide"><img src="https://zipperstrong.renovexenlinea.com/comprador4.webp" alt="Cliente 4" loading="lazy"></section><section class="slide"><img src="https://zipperstrong.renovexenlinea.com/comprador1.webp" alt="Cliente 1" loading="lazy"></section><section class="slide"><img src="https://zipperstrong.renovexenlinea.com/comprador2.webp" alt="Cliente 2" loading="lazy"></section><section class="slide"><img src="https://zipperstrong.renovexenlinea.com/comprador3.webp" alt="Cliente 3" loading="lazy"></section><section class="slide"><img src="https://zipperstrong.renovexenlinea.com/comprador4.webp" alt="Cliente 4" loading="lazy"></section></section>
          </section>
      


      <!-- Carrusel B -->
      <section class="testimonial-carousel" aria-roledescription="carrusel de testimonios" aria-label="Testimonios ‚Äî derecha">
        <div class="testimonial-track direction-right" data-speed="26" style="--speed: 26s;">
          <article class="testimonial-slide" role="group" aria-label="Testimonio G1">
            <img class="avatar" src="https://zipperstrong.renovexenlinea.com/COMENTARIO GOOGLE 1.webp" alt="Testimonio G1" loading="lazy">
            <div class="testimonial-meta"></div>
          </article>
          <article class="testimonial-slide" role="group" aria-label="Testimonio G2">
            <img class="avatar" src="https://zipperstrong.renovexenlinea.com/COMENTARIO GOOGLE 2.webp" alt="Testimonio G2" loading="lazy">
            <div class="testimonial-meta"></div>
          </article>
          <article class="testimonial-slide" role="group" aria-label="Testimonio G3">
            <img class="avatar" src="https://zipperstrong.renovexenlinea.com/COMENTARIO GOOGLE 3.webp" alt="Testimonio G3" loading="lazy">
            <div class="testimonial-meta"></div>
          </article>
          <article class="testimonial-slide" role="group" aria-label="Testimonio G4">
            <img class="avatar" src="https://zipperstrong.renovexenlinea.com/COMENTARIO GOOGLE 4.webp" alt="Testimonio G4" loading="lazy">
            <div class="testimonial-meta"></div>
          </article>

          <article class="testimonial-slide" role="group" aria-label="Testimonio G6">
            <img class="avatar" src="https://zipperstrong.renovexenlinea.com/COMENTARIO GOOGLE 6.webp" alt="Testimonio G6" loading="lazy">
            <div class="testimonial-meta"></div>
          </article>
        <article class="testimonial-slide" role="group" aria-label="Testimonio G1">
            <img class="avatar" src="https://zipperstrong.renovexenlinea.com/COMENTARIO GOOGLE 1.webp" alt="Testimonio G1" loading="lazy">
            <div class="testimonial-meta"></div>
          </article><article class="testimonial-slide" role="group" aria-label="Testimonio G2">
            <img class="avatar" src="https://zipperstrong.renovexenlinea.com/COMENTARIO GOOGLE 2.webp" alt="Testimonio G2" loading="lazy">
            <div class="testimonial-meta"></div>
          </article><article class="testimonial-slide" role="group" aria-label="Testimonio G3">
            <img class="avatar" src="https://zipperstrong.renovexenlinea.com/COMENTARIO GOOGLE 3.webp" alt="Testimonio G3" loading="lazy">
            <div class="testimonial-meta"></div>
          </article><article class="testimonial-slide" role="group" aria-label="Testimonio G4">
            <img class="avatar" src="https://zipperstrong.renovexenlinea.com/COMENTARIO GOOGLE 4.webp" alt="Testimonio G4" loading="lazy">
            <div class="testimonial-meta"></div>
          </article><article class="testimonial-slide" role="group" aria-label="Testimonio G6">
            <img class="avatar" src="https://zipperstrong.renovexenlinea.com/COMENTARIO GOOGLE 6.webp" alt="Testimonio G6" loading="lazy">
            <div class="testimonial-meta"></div>
          </article></div>
      </section>
      
            <!-- Carrusel A -->
      <section class="testimonial-carousel" aria-roledescription="carrusel de testimonios" aria-label="Testimonios ‚Äî izquierda" style="margin-top: -25px;">
        <div class="testimonial-track" data-speed="36" style="--speed: 36s;">
          <article class="testimonial-slide" role="group" aria-label="Testimonio 1">
            <img class="avatar" src="https://zipperstrong.renovexenlinea.com/COMENTARIO FACEBOOK 1.webp" alt="Testimonio 1" loading="lazy">
            <div class="testimonial-meta"></div>
          </article>
          <article class="testimonial-slide" role="group" aria-label="Testimonio 2">
            <img class="avatar" src="https://zipperstrong.renovexenlinea.com/COMENTARIO FACEBOOK 2.webp" alt="Testimonio 2" loading="lazy">
            <div class="testimonial-meta"></div>
          </article>
          <article class="testimonial-slide" role="group" aria-label="Testimonio 3">
            <img class="avatar" src="https://zipperstrong.renovexenlinea.com/COMENTARIO FACEBOOK 3.webp" alt="Testimonio 3" loading="lazy">
            <div class="testimonial-meta"></div>
          </article>
          <article class="testimonial-slide" role="group" aria-label="Testimonio 4">
            <img class="avatar" src="https://zipperstrong.renovexenlinea.com/COMENTARIO FACEBOOK 4.webp" alt="Testimonio 4" loading="lazy">
            <div class="testimonial-meta"></div>
          </article>
          <article class="testimonial-slide" role="group" aria-label="Testimonio 5">
            <img class="avatar" src="https://zipperstrong.renovexenlinea.com/COMENTARIO FACEBOOK 5.webp" alt="Testimonio 5" loading="lazy">
            <div class="testimonial-meta"></div>
          </article>
          <article class="testimonial-slide" role="group" aria-label="Testimonio 6">
            <img class="avatar" src="https://zipperstrong.renovexenlinea.com/COMENTARIO FACEBOOK 6.webp" alt="Testimonio 6" loading="lazy">
            <div class="testimonial-meta"></div>
          </article>
        <article class="testimonial-slide" role="group" aria-label="Testimonio 1">
            <img class="avatar" src="https://zipperstrong.renovexenlinea.com/COMENTARIO FACEBOOK 1.webp" alt="Testimonio 1" loading="lazy">
            <div class="testimonial-meta"></div>
          </article><article class="testimonial-slide" role="group" aria-label="Testimonio 2">
            <img class="avatar" src="https://zipperstrong.renovexenlinea.com/COMENTARIO FACEBOOK 2.webp" alt="Testimonio 2" loading="lazy">
            <div class="testimonial-meta"></div>
          </article><article class="testimonial-slide" role="group" aria-label="Testimonio 3">
            <img class="avatar" src="https://zipperstrong.renovexenlinea.com/COMENTARIO FACEBOOK 3.webp" alt="Testimonio 3" loading="lazy">
            <div class="testimonial-meta"></div>
          </article><article class="testimonial-slide" role="group" aria-label="Testimonio 4">
            <img class="avatar" src="https://zipperstrong.renovexenlinea.com/COMENTARIO FACEBOOK 4.webp" alt="Testimonio 4" loading="lazy">
            <div class="testimonial-meta"></div>
          </article><article class="testimonial-slide" role="group" aria-label="Testimonio 5">
            <img class="avatar" src="https://zipperstrong.renovexenlinea.com/COMENTARIO FACEBOOK 5.webp" alt="Testimonio 5" loading="lazy">
            <div class="testimonial-meta"></div>
          </article><article class="testimonial-slide" role="group" aria-label="Testimonio 6">
            <img class="avatar" src="https://zipperstrong.renovexenlinea.com/COMENTARIO FACEBOOK 6.webp" alt="Testimonio 6" loading="lazy">
            <div class="testimonial-meta"></div>
          </article></div>
      </section>
    </div>

    <div style="text-align: center; position: relative; bottom: 30px;display: flex;flex-wrap: wrap;justify-content: center;">
      


    <img src="https://zipperstrong.renovexenlinea.com/landingultimatefinal.webp" alt="" style="width: 100%; padding-bottom: 100px;">

  </div></main>

  <!-- ===== MODAL DE OFERTAS ===== -->
  <div class="modal-overlay" id="checkoutModal" role="dialog" aria-modal="true" aria-labelledby="modalTitle" aria-hidden="true">
    <div class="modal" role="document">
      <header>
        <div style="display: flex; flex-wrap: wrap; justify-content: center;">
          <img src="https://zipperstrong.renovexenlinea.com/logornovex.png" alt="" style="width: 40%;">
          <!--<div class="muted" id="modalSubtitle">INVIMA 20190008489 <br><span style="font-size: 18px;">Recuerda que pagas al recibir</span></div>-->
        </div>
        <button class="close" id="closeCheckout" aria-label="Cerrar">√ó</button>
      </header>

      <div class="body">
        <!-- CONTENEDOR DE OFERTAS -->
        <div id="offerSection">
          
           <!--
           <h3 style="animation:none;font-size: 40px;line-height: 40px;">POTENCIA <br> <span style="color: red;font-size: 54px;">SEXUAL</span> <br><span style="font-size: 14px;text-align: right;width: 100%;">SOLUCI√ìN DEFINITIVA</span></h3>
           -->
            
          <img src="https://zipperstrong.renovexenlinea.com/imagencheckout.webp" alt="">

          <!-- OFERTAS: SOLO 3, sin upsell -->
          <div class="offers" id="offerList">

             <!-- Oferta 1 
            <div class="offer-card" data-offer="Shilajit Detox - 1 unidad" data-qty="1" data-price="109000" data-original="129000" data-discount="20000" tabindex="0" >
              <div class="offer-img"><img loading="lazy" src="detoxsolo.webp" alt="Shilajit Detox 1 unidad" style="box-shadow:none;border:none;width: 70%;"></div>
              <div>
                <div class="offer-title">Desintoxicaci√≥n <span style="font-size: 19px;">B√ÅSICA</span></div>
                
              </div>
              
              <div class="price"><span class="current">$109.000</span><span style="font-size: 14px;">1 frasco</span></div>
            
            </div>-->



                        <!-- Oferta 3 -->
            <div class="offer-card" data-offer="Zipper Strong 180 tabletas" data-qty="1" data-price="149900" data-original="359700" data-discount="209800" tabindex="0">
              
              <img src="https://zipperstrong.renovexenlinea.com/etiquetapopular.webp" alt="" style="position: absolute;top: -12px;right: 14vw;width: 26vw;transform: rotate(268deg);">
              <span style="position: absolute;top: 3px;right: 6px;font-weight: 600;">45% <span style="font-size: 9px;">Dto.</span></span>
              
              <div class="offer-img" style="margin-bottom: 21px;margin-top: 8px;"><img loading="lazy" src="https://zipperstrong.renovexenlinea.com/3 frascos peque√±os.webp" alt="zipper strong 2 frascos" style="box-shadow:none;border:none;" class="visible"></div>
              <div>
                <div class="offer-title" style="margin-top: -40px;"><span style="color:var(--gold);font-size: 16px;">Zipper Strong</span><br>3 meses </div>
                
                
              </div>
              <div class="price"><span style="text-decoration: line-through;font-size: 14px;">$ 359.700</span><span class="current">$149.900</span><span style="font-size: .9rem;">180 Tabletas</span><span style="font-size: 14px;"></span></div>
              <span style="font-size: 12px;bottom: 6px; right: 6px; background-color: #086d10;border-radius: 16px;padding:4px 10px;"><span style="font-size: 14px;">üéÅ GRATIS: </span>Retardante y Multiorg√°smico</span>
            </div>

                                    <!-- Oferta 2 -->
            <div class="offer-card" data-offer="Zipper Strong 60 tabletas" data-qty="1" data-price="89900" data-original="119900" data-discount="30000" tabindex="1">
              <div class="offer-img"><img loading="lazy" src="https://zipperstrong.renovexenlinea.com/zipper60.webp" alt="zipper strong 1 frasco" style="box-shadow:none;border:none;width: 36%;margin-top:1px;" class="visible"></div>
              <div>
                <div class="offer-title"><span style="color:var(--gold);font-size: 16px;">Zipper Strong</span><br>1 mes </div>
               <!-- <span style="font-size: 12px; background-color: green;padding: 4px;border-radius: 10px;">M√°s Vendido</span>-->
              </div>
              
              <div class="price"><span style="text-decoration: line-through;font-size: 14px;">$ 119.900</span><span class="current">$89.900</span><span style="font-size: .9rem;">60 Tabletas</span><span style="font-size: 14px;margin-bottom: 10px;"></span></div>
              <span style="font-size: 12px;bottom: 6px; right: 6px; background-color: #cc2525;border-radius: 16px;padding:4px 10px;"><span style="font-size: 14px;">üéÅ GRATIS: </span>Retardante</span>
              
            </div>

            

            <div class="totals" id="totalsBox" aria-live="polite">
            
            <div class="row"><span>Subtotal</span><span id="subtotal" style="font-weight: 100;text-decoration: line-through;">$0</span></div>
            <div class="row"><span id="descuentoLabel" style="font-weight: 700; color: green;">AHORRO</span><strong id="descuento" style="color: red;font-weight: 500;">$0</strong></div>
            <div class="row"><span>Env√≠o</span><strong class="accent" style="color: green;"><span style="color: #ffffff;font-weight: 400;">S√≥lo por hoy </span> Gratis</strong></div>
            <div class="row" style="border: 1px solid white; border-radius: 16px; padding: 6px;"><span>Total</span><strong id="totalPrice" style="color: green;">$0</strong></div>
            
          </div>
            
          </div>
        </div>
        

        <!-- Formulario -->
        <form id="orderForm" class="glass" novalidate="">
          <!-- Honeypot -->
          <input type="text" name="website" id="hp" style="position:absolute;left:-9999px;top:-9999px" tabindex="-1" autocomplete="off" aria-hidden="true">
          <h3 style="animation: none;color: var(--gold);font-size: 21px;margin-top: -15px;">IND√çCANOS TUS DATOS PARA EL ENV√çO</h3>
          <div>
            <label>Nombre y Apellidos
              <span class="field">
                <svg class="ico" viewBox="0 0 24 24" aria-hidden="true"><path fill="currentColor" d="M12 12a5 5 0 1 0-5-5 5 5 0 0 0 5 5Zm0 2c-4.42 0-8 2.24-8 5v1h16v-1c0-2.76-3.58-5-8-5Z"></path></svg>
                <input required="" name="name" type="text" placeholder="Tu nombre completo" class="in with-ico" maxlength="80">
              </span>
            </label>

            <label>WhatsApp
              <span class="field">
                <svg class="ico" viewBox="0 0 24 24" aria-hidden="true"><path fill="currentColor" d="M6.62 10.79a15.05 15.05 0 0 0 6.59 6.59l2.2-2.2a1 1 0 0 1 1.01-.24 11.36 11.36 0 0 0 3.56.57 1 1 0 0 1 1 1v3.59a1 1 0 0 1-1 1A16 16 0 0 1 3 5a1 1 0 0 1 1-1h3.6a1 1 0 0 1 1 1 11.36 11.36 0 0 0 .57 3.56 1 1 0 0 1-.24 1.01Z"></path></svg>
                <input required="" name="phone" type="tel" inputmode="numeric" placeholder="+57 3xx xxx xxxx" class="in with-ico" maxlength="13" autocomplete="tel" title="Si inicia con 57: m√≠nimo 12 d√≠gitos. En otro caso: m√≠nimo 10 d√≠gitos.">
              </span>
            </label>
          </div>

           <div>
            <label>Departamento
              <span class="field">
                <svg class="ico" viewBox="0 0 24 24" aria-hidden="true"><path fill="currentColor" d="M12 2a7 7 0 0 0-7 7c0 5.25 7 13 7 13s7-7.75 7-13a7 7 0 0 0-7-7Zm0 9.5A2.5 2.5 0 1 1 14.5 9 2.5 2.5 0 0 1 12 11.5Z"/></svg>
                <select required name="state" id="state" class="in with-ico">
                  <option value="" selected disabled>Selecciona</option>
                  <option>Amazonas</option><option>Antioquia</option><option>Arauca</option><option>Atl√°ntico</option>
                  <option>Bol√≠var</option><option>Boyac√°</option><option>Caldas</option><option>Caquet√°</option><option>Casanare</option><option>Cauca</option><option>Cesar</option>
                  <option>Choc√≥</option><option>C√≥rdoba</option><option>Cundinamarca</option><option>Guain√≠a</option><option>Guaviare</option><option>Huila</option><option>La Guajira</option>
                  <option>Magdalena</option><option>Meta</option><option>Nari√±o</option><option>Norte de Santander</option><option>Putumayo</option><option>Quind√≠o</option><option>Risaralda</option>
                  <option>San Andr√©s y Providencia</option><option>Santander</option><option>Sucre</option><option>Tolima</option><option>Valle del Cauca</option><option>Vaup√©s</option><option>Vichada</option>
                </select>
              </span>
            </label>

            <label>Ciudad / Municipio
              <span class="field">
                <svg class="ico" viewBox="0 0 24 24" aria-hidden="true"><path fill="currentColor" d="M12 2a6 6 0 0 0-6 6c0 3.87 6 10 6 10s6-6.13 6-10a6 6 0 0 0-6-6Zm0 8a2 2 0 1 1 2-2 2 2 0 0 1-2 2Z"/></svg>
                <select required name="city" id="city" class="in with-ico" disabled>
                  <option selected disabled>Selecciona un departamento primero</option>
                </select>
              </span>
            </label>
          </div>

          <label>Direcci√≥n de entrega
            <span class="field">
              <svg class="ico" viewBox="0 0 24 24" aria-hidden="true"><path fill="currentColor" d="M12 3 2 12h3v8h6v-5h2v5h6v-8h3Z"></path></svg>
              <input required="" name="address" type="text" placeholder="Calle 00 # 00-00, apto, barrio" class="in with-ico" maxlength="120">
            </span>
          </label>

          <!-- Hidden qty fields -->
          <input type="hidden" name="qty" id="qtyField" value="">
          <input type="hidden" name="qty_num" id="qtyNumField" value="">
<!--
          <label style="display:flex;gap:10px;align-items:flex-start">
            <input type="checkbox" required name="terms" style="accent-color:var(--red)">
            <span class="muted">Quiero recibir Retardante y Multi Org√°smico GRATIS</span>
          </label>-->

          <div style="display:flex;gap:10px;flex-wrap:wrap">
            <button type="submit" id="submitBtn" class="btn">
              <span class="btn-text">Confirmar pedido</span>
            </button>
          </div>

          <h3 style="width:100%;text-align:center;margin-top:15px;margin-bottom:10px;color:white; animation: none;">
            Ellos ya recibieron su <br><span style="color: var(--gold);">ZIPPER STRONG</span>
          </h3>

          <!-- Carrusel 2x2 -->
          <section class="carousel-container2" aria-roledescription="carrusel de testimonios">
            <section class="carousel-track2">
              <section class="slide"><img src="https://zipperstrong.renovexenlinea.com/comprador1.webp" alt="Cliente 1" loading="lazy"></section>
              <section class="slide"><img src="https://zipperstrong.renovexenlinea.com/comprador2.webp" alt="Cliente 2" loading="lazy"></section>
              <section class="slide"><img src="https://zipperstrong.renovexenlinea.com/comprador3.webp" alt="Cliente 3" loading="lazy"></section>
              <section class="slide"><img src="https://zipperstrong.renovexenlinea.com/comprador4.webp" alt="Cliente 4" loading="lazy"></section>
              <!--<section class="slide"><img src="https://zipperstrong.renovexenlinea.com/comprador5.webp" alt="Cliente 5" loading="lazy"></section>-->
              
               <section class="slide"><img src="https://zipperstrong.renovexenlinea.com/comprador1.webp" alt="Cliente 1" loading="lazy"></section>
              <section class="slide"><img src="https://zipperstrong.renovexenlinea.com/comprador2.webp" alt="Cliente 2" loading="lazy"></section>
              <section class="slide"><img src="https://zipperstrong.renovexenlinea.com/comprador3.webp" alt="Cliente 3" loading="lazy"></section>
              <section class="slide"><img src="https://zipperstrong.renovexenlinea.com/comprador4.webp" alt="Cliente 4" loading="lazy"></section>
              <!--<section class="slide"><img src="https://zipperstrong.renovexenlinea.com/comprador5.webp" alt="Cliente 5" loading="lazy"></section>
              <section class="slide"><img src="https://zipperstrong.renovexenlinea.com/comprador6.webp" alt="Cliente 6" loading="lazy"></section>-->
            </section>
          </section>

          <div id="formMsg" class="muted" role="status" aria-live="polite" style="margin-top:8px"></div>

          <!-- Valores ocultos de oferta para fallback -->
          <input type="hidden" name="offer" value="">
          <input type="hidden" name="offer_price" value="">
        </form>

        <div id="formMount"></div>
      </div>

    </div>
  </div>

  <!-- Toast -->
  <div id="toast" class="toast" role="status" aria-live="polite" aria-atomic="true">‚úÖ <br> Hemos recibido tu pedido, <br> Te enviaremos a WhatsApp‚Ä¶</div>
<div id="gifMessage" style="
  display:none !important;
  position:fixed; 
  top:0; left:0; 
  width:100%; height:100%; 
  background:rgba(0,0,0,0.7); 
  backdrop-filter: blur(3px);
  z-index:3000;
  display:flex;
  align-items:center;
  justify-content:center;
">
  <img src="https://zipperstrong.renovexenlinea.com/mensajedecheck.gif" style="max-width:90%; height:auto; border-radius:12px;">
</div>
  <!-- JS -->
  <script>

    const municipiosColombia = {
  "Amazonas": ["Leticia","Puerto Nari√±o"],
  "Antioquia": [
    "Medell√≠n","Abejorral","Abriaqu√≠","Alejandr√≠a","Amag√°","Amalfi","Andes","Angel√≥polis","Angostura","Anor√≠",
    "Santa Fe de Antioquia","Anz√°","Apartad√≥","Arboletes","Argelia","Armenia","Barbosa","Bello","Belmira",
    "Betania","Betulia","Brice√±o","Buritic√°","C√°ceres","Caicedo","Caldas","Campamento","Ca√±asgordas",
    "Caracol√≠","Caramanta","Carepa","Carolina","Caucasia","Chigorod√≥","Cisneros","Ciudad Bol√≠var",
    "Cocorn√°","Concepci√≥n","Concordia","Copacabana","Dabeiba","Donmat√≠as","Eb√©jico","El Bagre",
    "El Carmen de Viboral","El Pe√±ol","El Retiro","Entrerr√≠os","Envigado","Fredonia","Frontino",
    "Giraldo","Girardota","G√≥mez Plata","Granada","Guadalupe","Guarne","Guatap√©","Heliconia",
    "Hispania","Itag√º√≠","Ituango","Jard√≠n","Jeric√≥","La Ceja","La Estrella","La Pintada","La Uni√≥n",
    "Liborina","Maceo","Marinilla","Montebello","Murind√≥","Mutat√°","Nari√±o","Necocl√≠","Nech√≠",
    "Olaya","Peque","Pueblorrico","Puerto Berr√≠o","Puerto Nare","Puerto Triunfo","Remedios",
    "Rionegro","Sabanalarga","Sabaneta","Salgar","San Andr√©s de Cuerquia","San Carlos",
    "San Francisco","San Jer√≥nimo","San Jos√© de la Monta√±a","San Juan de Urab√°","San Luis",
    "San Pedro","San Pedro de Urab√°","San Rafael","San Roque","San Vicente","Santa B√°rbara",
    "Santa Rosa de Osos","Santo Domingo","Segovia","Sons√≥n","Sopetr√°n","T√°mesis",
    "Taraz√°","Tarso","Titirib√≠","Toledo","Turbo","Uramita","Urrao","Valdivia",
    "Valpara√≠so","Vegach√≠","Venecia","Vig√≠a del Fuerte","Yal√≠","Yarumal","Yolomb√≥","Yond√≥","Zaragoza"
  ],
  "Atl√°ntico": [
    "Barranquilla","Baranoa","Campo de la Cruz","Candelaria","Galapa","Juan de Acosta",
    "Luruaco","Malambo","Manat√≠","Palmar de Varela","Pioj√≥","Polonuevo",
    "Ponedera","Puerto Colombia","Repel√≥n","Sabanagrande","Sabanalarga",
    "Santa Luc√≠a","Santo Tom√°s","Soledad","Suan","Tubar√°","Usiacur√≠"
  ],
  "Arauca": [
  "Arauca","Arauquita","Cravo Norte","Fortul",
  "Puerto Rond√≥n","Saravena","Tame"
],

"Boyac√°": [
  "Tunja","Almeida","Aquitania","Arcabuco","Bel√©n","Berbeo","Bet√©itiva",
  "Boavita","Boyac√°","Brice√±o","Buenavista","Busbanz√°","Caldas",
  "Campohermoso","Cerinza","Chinavita","Chiquinquir√°","Ch√≠quiza",
  "Chiscas","Chita","Chitaraque","Chivat√°","Chivor","Ci√©nega",
  "C√≥mbita","Coper","Corrales","Covarach√≠a","Cubar√°","Cucaita",
  "Cu√≠tiva","Duitama","El Cocuy","El Espino","Firavitoba","Floresta",
  "Gachantiv√°","G√°meza","Garagoa","Guacamayas","Guateque","Guayat√°",
  "G√ºic√°n de la Sierra","Iza","Jenesano","Jeric√≥","La Capilla","La Uvita",
  "La Victoria","Labranzagrande","Macanal","Marip√≠","Miraflores",
  "Mongua","Mongu√≠","Moniquir√°","Motavita","Muzo","Nobsa","Nuevo Col√≥n",
  "Oicat√°","Otanche","Pachavita","P√°ez","Paipa","Pajarito","Panqueba",
  "Pauna","Paya","Paz de R√≠o","Pesca","Pisba","Puerto Boyac√°",
  "Qu√≠pama","Ramiriqu√≠","R√°quira","Rond√≥n","Saboy√°","S√°chica",
  "Samac√°","San Eduardo","San Jos√© de Pare","San Luis de Gaceno",
  "San Mateo","San Miguel de Sema","San Pablo de Borbur","Santa Mar√≠a",
  "Santa Rosa de Viterbo","Santa Sof√≠a","Santana","Sativanorte",
  "Sativasur","Siachoque","Soat√°","Socha","Socot√°","Sogamoso",
  "Somondoco","Sora","Sorac√°","Sotaquir√°","Susac√≥n","Sutamarch√°n",
  "Sutatenza","Tasco","Tenza","Tiban√°","Tibasosa","Tinjac√°","Tipacoque",
  "Toca","Tog√º√≠","T√≥paga","Tota","Tunungu√°","Turmequ√©","Tuta",
  "Tutaz√°","√ömbita","Ventaquemada","Villa de Leyva","Viracach√°",
  "Zetaquira"
],
  "Bogot√° D.C.": ["Bogot√°"],
  "Bol√≠var": [
    "Cartagena","Ach√≠","Altos del Rosario","Arenal","Arjona","Arroyohondo",
    "Barranco de Loba","Calamar","Cantagallo","Cicuco","Clemencia",
    "C√≥rdoba","El Carmen de Bol√≠var","El Guamo","El Pe√±√≥n","Hatillo de Loba",
    "Magangu√©","Mahates","Margarita","Mar√≠a La Baja","Momp√≥s","Montecristo",
    "Morales","Pinillos","Regidor","R√≠o Viejo","San Crist√≥bal","San Estanislao",
    "San Fernando","San Jacinto","San Juan Nepomuceno","San Mart√≠n de Loba",
    "San Pablo","Santa Catalina","Santa Rosa","Santa Rosa del Sur",
    "Simit√≠","Soplaviento","Talaigua Nuevo","Tiquisio","Turbaco","Turban√°",
    "Villanueva","Zambrano"
  ],
  "Cundinamarca": [
    "Bogot√°","Agua de Dios","Alb√°n","Anapoima","Anolaima","Apulo","Arbel√°ez","Beltr√°n",
    "Bituima","Bojac√°","Cabrera","Cachipay","Cajic√°","Caparrap√≠","C√°queza","Carmen de Carupa",
    "Chaguan√≠","Ch√≠a","Chipaque","Choach√≠","Chocont√°","Cogua","Cota","Cucunub√°","El Colegio",
    "El Pe√±√≥n","El Rosal","Facatativ√°","F√≥meque","Fosca","Funza","F√∫quene","Fusagasug√°",
    "Gachal√°","Gachancip√°","Gachet√°","Gama","Girardot","Granada","Guachet√°","Guaduas",
    "Guasca","Guataqu√≠","Guatavita","Guayabal de S√≠quima","Guayabetal",
    "Guti√©rrez","Jerusal√©n","Jun√≠n","La Calera","La Mesa","La Palma","La Pe√±a",
    "La Vega","Lenguazaque","Machet√°","Madrid","Manta","Medina","Mosquera","Nari√±o",
    "Nemoc√≥n","Nilo","Nimaima","Nocaima","Pacho","Paime","Pandi","Paratebueno",
    "Pasca","Puerto Salgar","Pul√≠","Quebradanegra","Quetame","Quipile","Ricaurte",
    "San Antonio del Tequendama","San Bernardo","San Cayetano","San Francisco",
    "San Juan de R√≠o Seco","Sasaima","Sesquil√©","Sibat√©","Silvania","Simijaca",
    "Soacha","Sop√≥","Subachoque","Suesca","Supat√°","Susa","Sutatausa","Tabio",
    "Tausa","Tena","Tenjo","Tibacuy","Tibirita","Tocaima","Tocancip√°","Topaip√≠",
    "Ubal√°","Ubaque","Ubat√©","Une","√ötica","Venecia","Vergara","Vian√≠","Villag√≥mez",
    "Villapinz√≥n","Villeta","Viot√°","Yacop√≠","Zipac√≥n","Zipaquir√°"
  ],
  "Caldas": [
  "Manizales","Aguadas","Anserma","Aranzazu","Belalc√°zar","Chinchin√°",
  "Filadelfia","La Dorada","La Merced","Manzanares","Marmato","Marquetalia",
  "Marulanda","Neira","Norcasia","P√°cora","Palestina","Pensilvania",
  "Riosucio","Risaralda","Salamina","Saman√°","San Jos√©","Sup√≠a","Victoria",
  "Villamar√≠a","Viterbo"
],

"Caquet√°": [
  "Florencia","Albania","Bel√©n de los Andaqu√≠es","Cartagena del Chair√°",
  "Curillo","El Doncello","El Paujil","La Monta√±ita","Mil√°n","Morelia",
  "Puerto Rico","San Jos√© del Fragua","San Vicente del Cagu√°n","Solano",
  "Solita","Valpara√≠so"
],

"Casanare": [
  "Yopal","Aguazul","Ch√°meza","Hato Corozal","La Salina","Man√≠",
  "Monterrey","Nunch√≠a","Orocu√©","Paz de Ariporo","Pore","Recetor",
  "Sabanalarga","S√°cama","San Luis de Palenque","T√°mara","Tauramena",
  "Trinidad","Villanueva"
],

"Cauca": [
  "Popay√°n","Almaguer","Argelia","Balboa","Bol√≠var","Buenos Aires",
  "Cajib√≠o","Caldono","Caloto","Corinto","El Tambo","Florencia",
  "Guachen√©","Guap√≠","Inz√°","Jambal√≥","La Sierra","La Vega",
  "L√≥pez de Micay","Mercaderes","Miranda","Morales","Padilla",
  "P√°ez","Pat√≠a","Piamonte","Piendam√≥","Puerto Tejada","Purac√©",
  "Rosas","San Sebasti√°n","Santa Rosa","Santander de Quilichao",
  "Silvia","Sotar√°","Su√°rez","Sucre","Timb√≠o","Timbiqu√≠","Torib√≠o",
  "Totor√≥","Villa Rica"
],

"Cesar": [
  "Valledupar","Aguachica","Agust√≠n Codazzi","Astrea","Becerril",
  "Bosconia","Chimichagua","Chiriguan√°","Curuman√≠","El Copey",
  "El Paso","Gamarra","Gonz√°lez","La Gloria","La Jagua de Ibirico",
  "La Paz","Manaure","Pailitas","Pelaya","Pueblo Bello",
  "R√≠o de Oro","San Alberto","San Diego","San Mart√≠n","Tamalameque"
],

"Choc√≥": [
  "Quibd√≥","Acand√≠","Alto Baud√≥","Bagad√≥","Bah√≠a Solano","Bajo Baud√≥",
  "Bojay√°","C√©rtegui","Condoto","El Cant√≥n del San Pablo","El Carmen de Atrato",
  "El Litoral del San Juan","Istmina","Jurad√≥","Llor√≥","Medio Atrato",
  "Medio Baud√≥","Medio San Juan","N√≥vita","Nuqu√≠","R√≠o Ir√≥",
  "R√≠o Quito","Riosucio","San Jos√© del Palmar","Sip√≠","Tad√≥",
  "Ungu√≠a","Uni√≥n Panamericana"
],

"C√≥rdoba": [
  "Monter√≠a","Ayapel","Buenavista","Canalete","Ceret√©","Chim√°",
  "Chin√∫","Ci√©naga de Oro","Cotorra","La Apartada","Lorica",
  "Los C√≥rdobas","Momil","Montel√≠bano","Mo√±itos","Planeta Rica",
  "Pueblo Nuevo","Puerto Escondido","Puerto Libertador","Pur√≠sima",
  "Sahag√∫n","San Andr√©s de Sotavento","San Antero","San Bernardo del Viento",
  "San Carlos","San Jos√© de Ur√©","San Pelayo","Tierralta","Tuch√≠n","Valencia"
],

"Guain√≠a": [
  "In√≠rida","Barrancominas","Mapiripana","San Felipe","Puerto Colombia",
  "La Guadalupe","Cacahual","Pana Pana","Morichal"
],

"Guaviare": [
  "San Jos√© del Guaviare","Calamar","El Retorno","Miraflores"
],

"Huila": [
  "Neiva","Acevedo","Agrado","Aipe","Algeciras","Altamira","Baraya",
  "Campoalegre","Colombia","El√≠as","Garz√≥n","Gigante","Guadalupe",
  "Hobo","√çquira","Isnos","La Argentina","La Plata","N√°taga",
  "Oporapa","Paicol","Palermo","Palestina","Pital","Pitalito",
  "Rivera","Saladoblanco","San Agust√≠n","Santa Mar√≠a","Suaza",
  "Tarqui","Tesalia","Tello","Teruel","Timan√°","Villavieja","Yaguar√°"
],

"La Guajira": [
  "Riohacha","Albania","Barrancas","Dibulla","Distracci√≥n","El Molino",
  "Fonseca","Hatonuevo","La Jagua del Pilar","Maicao","Manaure",
  "San Juan del Cesar","Uribia","Urumita","Villanueva"
],

"Magdalena": [
  "Santa Marta","Algarrobo","Aracataca","Ariguan√≠","Cerro de San Antonio",
  "Chibolo","Ci√©naga","Concordia","El Banco","El Pi√±√≥n","El Ret√©n",
  "Fundaci√≥n","Guamal","Nueva Granada","Pedraza","Piji√±o del Carmen",
  "Pivijay","Plato","Puebloviejo","Remolino","Salamina","San Sebasti√°n de Buenavista",
  "San Zen√≥n","Santa Ana","Sitionuevo","Tenerife","Zapay√°n","Zona Bananera"
],

"Meta": [
  "Villavicencio","Acac√≠as","Barranca de Up√≠a","Cabuyaro","Castilla la Nueva",
  "Cubarral","Cumaral","El Calvario","El Castillo","El Dorado","Fuente de Oro",
  "Granada","Guamal","La Macarena","La Uribe","Lejan√≠as","Mapirip√°n",
  "Mesetas","Puerto Concordia","Puerto Gait√°n","Puerto Lleras",
  "Puerto L√≥pez","Puerto Rico","Restrepo","San Carlos de Guaroa",
  "San Juan de Arama","San Juanito","San Mart√≠n","Vista Hermosa"
],

"Nari√±o": [
  "Pasto","Alb√°n","Aldana","Ancuya","Arboleda","Barbacoas","Bel√©n",
  "Buesaco","Chachag√º√≠","Col√≥n","Consac√°","Contadero","C√≥rdoba",
  "Cuaspud","Cumbal","Cumbitara","El Charco","El Pe√±ol","El Rosario",
  "El Tambo","Funes","Guachucal","Guaitarilla","Gualmat√°n","Iles",
  "Imu√©s","Ipiales","La Cruz","La Florida","La Llanada","La Tola",
  "La Uni√≥n","Leiva","Linares","Los Andes","Mag√º√≠","Mallama",
  "Mosquera","Nari√±o","Olaya Herrera","Ospina","Policarpa","Potos√≠",
  "Providencia","Puerres","Pupiales","Ricaurte","Roberto Pay√°n",
  "Samaniego","San Bernardo","San Lorenzo","San Pablo","San Pedro de Cartago",
  "Sandon√°","Santa B√°rbara","Santacruz","Sapuyes","Taminango","Tangua",
  "Tumaco","T√∫querres","Yacuanquer"
],

"Norte de Santander": [
  "C√∫cuta","√Åbrego","Arboledas","Bochalema","Bucarasica","C√°chira",
  "C√°cota","Chin√°cota","Chitag√°","Convenci√≥n","Cucutilla","Duran√≠a",
  "El Carmen","El Tarra","El Zulia","Gramalote","Hacar√≠","Herr√°n",
  "Labateca","La Esperanza","La Playa","Los Patios","Lourdes",
  "Mutiscua","Oca√±a","Pamplona","Pamplonita","Puerto Santander",
  "Ragonvalia","Salazar","San Calixto","San Cayetano","Santiago",
  "Sardinata","Teorama","Tib√∫","Toledo","Villa Caro","Villa del Rosario"
],

"Putumayo": [
  "Mocoa","Col√≥n","Orito","Puerto As√≠s","Puerto Caicedo",
  "Puerto Guzm√°n","Puerto Legu√≠zamo","San Francisco",
  "San Miguel","Santiago","Sibundoy","Valle del Guamuez","Villagarz√≥n"
],

"Quind√≠o": [
  "Armenia","Buenavista","Calarc√°","Circasia","C√≥rdoba",
  "Filandia","G√©nova","La Tebaida","Montenegro","Pijao",
  "Quimbaya","Salento"
],

"Risaralda": [
  "Pereira","Ap√≠a","Balboa","Bel√©n de Umbr√≠a","Dosquebradas",
  "Gu√°tica","La Celia","La Virginia","Marsella","Mistrat√≥",
  "Pueblo Rico","Quinch√≠a","Santa Rosa de Cabal"
],

"San Andr√©s y Providencia": [
  "San Andr√©s","Providencia"
],

"Santander": [
  "Bucaramanga","Aguada","Albania","Aratoca","Barbosa","Barichara",
  "Barrancabermeja","Betulia","Bol√≠var","Cabrera","California",
  "Capitanejo","Carcas√≠","Cepit√°","Cerrito","Charal√°","Charta",
  "Chima","Chipat√°","Cimitarra","Concepci√≥n","Confines","Contrataci√≥n",
  "Coromoro","Curit√≠","El Carmen de Chucur√≠","El Guacamayo","El Pe√±√≥n",
  "El Play√≥n","Encino","Enciso","Flori√°n","Floridablanca","Gal√°n",
  "G√°mbita","Gir√≥n","Guaca","Guadalupe","Guapot√°","Guavat√°",
  "G√ºepsa","Hato","Jes√∫s Mar√≠a","Jord√°n","La Belleza","La Paz",
  "Land√°zuri","Lebrija","Los Santos","Macaravita","M√°laga",
  "Matanza","Mogotes","Molagavita","Ocamonte","Oiba","Onzaga",
  "Palmar","Palmas del Socorro","P√°ramo","Piedecuesta","Pinchote",
  "Puente Nacional","Puerto Parra","Puerto Wilches","Rionegro",
  "Sabana de Torres","San Andr√©s","San Benito","San Gil",
  "San Joaqu√≠n","San Jos√© de Miranda","San Miguel","San Vicente de Chucur√≠",
  "Santa B√°rbara","Santa Helena del Op√≥n","Simacota","Socorro",
  "Suaita","Sucre","Surat√°","Tona","Valle de San Jos√©","V√©lez",
  "Vetas","Villanueva","Zapatoca"
],

"Sucre": [
  "Sincelejo","Buenavista","Caimito","Chal√°n","Colos√≥","Corozal",
  "Cove√±as","El Roble","Galeras","Guaranda","La Uni√≥n","Los Palmitos",
  "Majagual","Morroa","Ovejas","Palmito","Sampu√©s","San Benito Abad",
  "San Juan de Betulia","San Marcos","San Onofre","San Pedro",
  "Sinc√©","Sucre","Tol√∫","Toluviejo"
],

"Tolima": [
  "Ibagu√©","Alpujarra","Alvarado","Ambalema","Anzo√°tegui","Armero",
  "Ataco","Cajamarca","Carmen de Apical√°","Casabianca","Chaparral",
  "Coello","Coyaima","Cunday","Dolores","Espinal","Falan",
  "Flandes","Fresno","Guamo","Herveo","Honda","Icononzo",
  "L√©rida","L√≠bano","Mariquita","Melgar","Murillo","Natagaima",
  "Ortega","Palocabildo","Piedras","Planadas","Prado","Purificaci√≥n",
  "Rioblanco","Roncesvalles","Rovira","Salda√±a","San Antonio",
  "San Luis","Santa Isabel","Su√°rez","Valle de San Juan","Venadillo",
  "Villahermosa","Villarrica"
],

"Valle del Cauca": [
  "Cali","Alcal√°","Andaluc√≠a","Ansermanuevo","Argelia","Bol√≠var",
  "Buenaventura","Buga","Bugalagrande","Caicedonia","Calima",
  "Candelaria","Cartago","Dagua","El √Åguila","El Cairo","El Cerrito",
  "El Dovio","Florida","Ginebra","Guacar√≠","Jamund√≠","La Cumbre",
  "La Uni√≥n","La Victoria","Obando","Palmira","Pradera","Restrepo",
  "Riofr√≠o","Roldanillo","San Pedro","Sevilla","Toro","Trujillo",
  "Tulu√°","Ulloa","Versalles","Vijes","Yotoco","Yumbo","Zarzal"
],

"Vaup√©s": [
  "Mit√∫","Carur√∫","Pacoa","Taraira","Papunahua","Yavarat√©"
],

"Vichada": [
  "Puerto Carre√±o","La Primavera","Santa Rosal√≠a","Cumaribo"
]
};

const state = document.getElementById("state");
const city = document.getElementById("city");

state.addEventListener("change", () => {
  const dept = state.value;
  city.innerHTML = "";
  city.disabled = true;

  if (!municipiosColombia[dept]) {
    city.innerHTML = `<option selected disabled>No disponible</option>`;
    return;
  }

  city.disabled = false;
  city.innerHTML = `<option selected disabled>Selecciona</option>`;

  municipiosColombia[dept].forEach(m => {
    const opt = document.createElement("option");
    opt.value = m;
    opt.textContent = m;
    city.appendChild(opt);
  });
});
  (function () {
    // Crea una clase CSS solo una vez
    const style = document.createElement('style');
    style.textContent = `.hidden-body{ display:none !important; }`;
    document.head.appendChild(style);

    const mq = window.matchMedia('(min-width: 701px)');

    function toggleBodyDisplay(e) {
      const matches = (e && 'matches' in e) ? e.matches : mq.matches;
      if (matches) document.body.classList.add('hidden-body');
      else document.body.classList.remove('hidden-body');
    }

    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', toggleBodyDisplay);
    } else {
      toggleBodyDisplay();
    }

    mq.addEventListener ? mq.addEventListener('change', toggleBodyDisplay)
                        : mq.addListener(toggleBodyDisplay);
    window.addEventListener('resize', toggleBodyDisplay);
    window.addEventListener('orientationchange', toggleBodyDisplay);
  })();




  (function(){
    // ========= CONFIG =========
    const SCRIPT_URL = "https://script.google.com/macros/s/AKfycbzqIPpVDlAK1WqD49mTA8nw9Dw7S4zRfvVBJO7ff4sTus3qAywTsdSiM1_XBgYwOquv/exec";
    const WHATSAPP_DEST = "573154661733"; // <-- Numero de Whatsapp logistica

    // Elements
    const modal = document.getElementById('checkoutModal');
    const closeBtn = document.getElementById('closeCheckout');
    const offerList = document.getElementById('offerList');
    const offerSection = document.getElementById('offerSection');
    const totalPrice = document.getElementById('totalPrice');
    const form = document.getElementById('orderForm');
    const formMsg = document.getElementById('formMsg');
    const submitBtn = document.getElementById('submitBtn');
    const toast = document.getElementById('toast');
    const selectedProductLabel = document.getElementById('selectedProductLabel');

    let selectedOffer = null;

    // tiempo en ms, debe coincidir con tu transition (300 = .3s)
    const MODAL_POINTER_DELAY = 300;

    // Phone validation
    const phoneInput = form ? form.querySelector('input[name="phone"]') : null;
    function validatePhone() {
      if (!phoneInput) return true;
      const digits = phoneInput.value.replace(/\D/g, '');
      const starts57 = digits.startsWith('57');
      const isValid = starts57 ? digits.length >= 12 : digits.length >= 10;
      phoneInput.setCustomValidity(isValid ? '' : (starts57 ? 'Si el n√∫mero inicia con 57, debe tener m√≠nimo 12 d√≠gitos.' : 'Ingresa m√≠nimo 10 d√≠gitos.'));
      if (isValid) phoneInput.classList.remove('error'); else phoneInput.classList.add('error');
      return isValid;
    }
    if (phoneInput) phoneInput.addEventListener('input', validatePhone);

    function showToast(text){ toast && (toast.textContent = text, toast.classList.add('show'), setTimeout(()=> toast.classList.remove('show'), 3000)); }
    function formatCOP(n){ try { return n.toLocaleString('es-CO',{style:'currency',currency:'COP',maximumFractionDigits:0}); } catch(e){ return '$' + n; } }

    // Open/close modal (MODIFICADAS: control de pointer-events con clase .ready)
    function openCheckout(e){
      
      if(e && e.preventDefault) e.preventDefault();
      if (!selectedOffer) preselectOfferByIndex(1); // √≠ndice 0 = oferta 1
      if (!modal) return;

      modal.classList.add('active');
      modal.setAttribute('aria-hidden','false');
      document.body.classList.add('modal-open');

      modal.classList.remove('ready');

      if (submitBtn) {
        submitBtn.dataset._wasDisabled = submitBtn.disabled ? '1' : '0';
        submitBtn.disabled = true;
      }

      setTimeout(() => {
        if (modal && modal.classList.contains('active')) {
          modal.classList.add('ready');
          if (submitBtn) {
            if (submitBtn.dataset._wasDisabled === '0') submitBtn.disabled = false;
            delete submitBtn.dataset._wasDisabled;
          }
        }
      }, MODAL_POINTER_DELAY);

      if (window.ttq) { ttq.track("InitiateCheckout"); }
    }

function resetState() {
  showOfferSection();
  hideForm();
  clearActiveOffers();

  selectedOffer = null;

  if (totalPrice) totalPrice.textContent = '$0';
  if (subtotal) subtotal.textContent = '$0';
  if (descuento) descuento.textContent = '$0';

  if (selectedProductLabel) selectedProductLabel.textContent = '-';
}

    function closeModalAndReset(){
      if (modal) {
        modal.classList.remove('ready');
        modal.classList.remove('active');
        modal.setAttribute('aria-hidden','true');
        
      }
      if (submitBtn) {
        submitBtn.disabled = false;
        delete submitBtn.dataset._wasDisabled;
      }
      document.body.classList.remove('modal-open');
   
    }

    // Close actions
    const handleCloseClick = (e) => {
      e && e.preventDefault();
      closeModalAndReset();
    };
    if (closeBtn) closeBtn.addEventListener('click', handleCloseClick);
    if (modal) modal.addEventListener('click', (e)=>{ if(e.target === modal) closeModalAndReset(); });
    document.addEventListener('keydown', (e)=>{ if(e.key==='Escape'){ closeModalAndReset(); } });

    // Initially: show offers, hide form
    function showOfferSection(){ if(offerSection) offerSection.style.display = ''; }
    function hideOfferSection(){ if(offerSection) offerSection.style.display = ''; }
    function showForm(){ if(form) { form.style.display = ''; form.setAttribute('aria-hidden','false'); } }
    function hideForm(){ if(form) { form.style.display = ''; form.setAttribute('aria-hidden','true'); } }

    showOfferSection();
    

    // Clear active offers
    function clearActiveOffers(){ if(!offerList) return; Array.from(offerList.querySelectorAll('.offer-card')).forEach(c=>c.classList.remove('active')); }

    // Scroll to form and focus (used when selecting an offer)
    function scrollToFormAndFocus(){
      showForm();
      if (!modal || !modal.classList.contains('active')) openCheckout();
     /* setTimeout(()=> {
        const target = document.getElementById('orderForm');
        if (target) {
          target.scrollIntoView({behavior:'smooth', block:'center'});
          const firstInput = target.querySelector('input[name="name"]');
          if (firstInput) firstInput.focus();
        }
      }, 280);*/
    }

    // Preselecciona una oferta por √≠ndice sin usar click() ni disparar handlers adicionales
function preselectOfferByIndex(idx) {
  if (!offerList) return;
  const cards = Array.from(offerList.querySelectorAll('.offer-card'));
  const card = cards[idx];
  if (!card) return;

  // 1) Limpiar y marcar visualmente
  clearActiveOffers();
  card.classList.add('active');

  // 2) Leer datos desde data-attributes
  const price = Number(card.dataset.price) || 0;
  const originalPrice = Number(card.dataset.original) || 0;
  const discount = Number(card.dataset.discount) || 0;
  const q = parseInt(card.dataset.qty, 10) || 1;
  const offerLabel = card.dataset.offer || '';

  // 3) Actualizar UI: subtotal, descuento, total, label din√°mico
  const subtotalEl = document.getElementById('subtotal');
  const descuentoEl = document.getElementById('descuento');
  const descuentoLabel = document.getElementById('descuentoLabel');

  if (subtotalEl) subtotalEl.textContent = formatCOP(originalPrice);
  if (descuentoEl) descuentoEl.textContent = '-' + formatCOP(discount);
  if (totalPrice) totalPrice.textContent = formatCOP(price);

 
  

  // 4) Rellenar campos ocultos
  const qtyFieldEl = document.getElementById('qtyField');
  const qtyNumEl = document.getElementById('qtyNumField');
  if (qtyFieldEl) qtyFieldEl.value = offerLabel;
  if (qtyNumEl) qtyNumEl.value = String(q);

  // 5) Actualizar estado JS sin ejecutar m√°s l√≥gica
  selectedOffer = { offer: offerLabel, qty: q, price: price };
}



    

    // Assign behavior to all offer cards (simple selection, no upsell)
    Array.from(document.querySelectorAll('.offer-card')).forEach(card => {
      const select = () => {
        Array.from(document.querySelectorAll('.offer-card')).forEach(c => c.classList.remove('active'));
        card.classList.add('active');

                const price = Number(card.dataset.price) || 0;
        const originalPrice = Number(card.dataset.original) || 0;
        const discount = Number(card.dataset.discount) || 0;
        const q = parseInt(card.dataset.qty, 10) || 1;
        const offerLabel = card.dataset.offer || 'Oferta';

        // Calcular valores
        const subtotalValue = originalPrice ;
        const discountValue = discount;
        const totalValue = price;

        // Actualizar en la UI
        const subtotalEl = document.getElementById('subtotal');
        const descuentoEl = document.getElementById('descuento');
        const descuentoLabel = document.getElementById('descuentoLabel');
        
        if (subtotalEl) subtotalEl.textContent = formatCOP(subtotalValue);
        if (descuentoEl) descuentoEl.textContent = '-' + formatCOP(discountValue);
        if (totalPrice) totalPrice.textContent = formatCOP(totalValue);
        if (selectedProductLabel) selectedProductLabel.textContent = offerLabel;

        // ----- NUEVO: actualizar texto del label seg√∫n el precio -----
if (descuentoLabel) {
  // si el precio final es 179000 mostrar "M√ÅXIMO AHORRO", si no "AHORRO"
  // usa Number(card.dataset.price) o totalValue para decidir
  if (Number(card.dataset.price) === 149900) {
    descuentoLabel.textContent = "AHORRO";
    document.getElementById('subtotal').style.textDecoration = "line-through";
  } else {
    descuentoLabel.textContent = "AHORRO";
    
    
  }
}

        const qtyField = document.getElementById('qtyField');
        const qtyNumField = document.getElementById('qtyNumField');
        if (qtyField) qtyField.value = offerLabel;
        if (qtyNumField) qtyNumField.value = String(q);

        selectedOffer = { offer: offerLabel, qty: q, price: price };

         const totalsBox = document.getElementById('totalsBox');
  if (totalsBox) {
    // usar un peque√±o timeout para asegurar que el DOM se actualiz√≥
    setTimeout(() => {
      totalsBox.scrollIntoView({ behavior: 'smooth', block: 'center' });
    }, 100);
  }

        // show form & modal
        hideOfferSection();
        scrollToFormAndFocus();
      };

      card.addEventListener('click', select);
      card.addEventListener('keydown', (e) => { if (e.key === 'Enter' || e.key === ' ') { e.preventDefault(); select(); } });
    });

    // Form submit: send to Google Script and redirect to WhatsApp
    if(form) form.addEventListener('submit', async (e)=>{
      e.preventDefault();
      if (formMsg) formMsg.textContent = "";
      if (form.website && form.website.value !== "") return; // honeypot

      // Validaci√≥n
      const required = ['name','phone','state','city','address'];
      validatePhone();
      const invalid = [];
      required.forEach(k=>{
        const el = form.querySelector('[name="'+k+'"]');
        if (!el || !el.value.trim() || !el.checkValidity()) invalid.push(k);
      });
      if (invalid.length){
        if (formMsg) formMsg.textContent = "Por favor completa todos los campos correctamente.";
        showToast("Completa los campos requeridos");
        invalid.forEach(k=>{ const el = form.querySelector('[name="'+k+'"]'); if (el) el.classList.add('error'); });

 // üî• Restaurar bot√≥n para que no quede bloqueado
 //   submitBtn.disabled = false;
  //  submitBtn.textContent = "Hacer pedido";
   // submitBtn.classList.remove("loading");

   // Restaurar estado del bot√≥n de forma segura
if (submitBtn) {
  const btnTextEl = submitBtn.querySelector('.btn-text');
  if (btnTextEl) btnTextEl.textContent = "Confirmar pedido";
  else submitBtn.textContent = "Confirmar pedido";
  submitBtn.disabled = false;
  submitBtn.classList.remove("loading");
}

        return;
      }
      if (!selectedOffer){
  if (formMsg) formMsg.textContent = "Selecciona una oferta antes de continuar.";
  showToast("Selecciona una oferta");

  // üëâ NUEVO: desplazar autom√°ticamente a una secci√≥n espec√≠fica
  const target = document.getElementById("offerSection");
  if (target) {
    target.scrollIntoView({ behavior: "smooth", block: "center" });
  }

  // üî• Restaurar bot√≥n para que no quede bloqueado
  //  submitBtn.disabled = false;
  //  submitBtn.textContent = "Hacer pedido";
  //  submitBtn.classList.remove("loading");

  // Restaurar estado del bot√≥n de forma segura
if (submitBtn) {
  const btnTextEl = submitBtn.querySelector('.btn-text');
  if (btnTextEl) btnTextEl.textContent = "Confirmar pedido";
  else submitBtn.textContent = "Confirmar pedido";
  submitBtn.disabled = false;
  submitBtn.classList.remove("loading");
}

  return;
}

      try{
        if (submitBtn) submitBtn.disabled = true;
        const originalBtnText = submitBtn && (submitBtn.querySelector('.btn-text')?.textContent || submitBtn.textContent);
        if (submitBtn && submitBtn.querySelector('.btn-text')) submitBtn.querySelector('.btn-text').textContent = "Enviando pedido...";

        const qtyField = document.getElementById('qtyField');
        const qtyNumField = document.getElementById('qtyNumField');

        const totalFromUI = parseInt(
          (document.getElementById('totalPrice')?.textContent || '').replace(/[^\d]/g, ''),
          10
        ) || 0;

        // Normalizar tel√©fono
        function normalizePhone(p){
          const digits = p.replace(/\D/g,'');
          if (digits.length === 10 && digits.startsWith('3')) return '57' + digits;
          if (digits.length === 11 && digits.startsWith('03')) return '57' + digits.slice(1);
          return digits;
        }
        const normalizedPhone = normalizePhone(form.phone.value);

        const data = {
          name: form.name.value,
          phone: normalizedPhone,
          state: form.state.value,
          city: form.city.value,
          address: form.address.value,

          qty: (qtyField?.value || ''),
          qty_num: Number(qtyNumField?.value || 0),

          // Oferta elegida
          offer: selectedOffer.offer,
          offer_price: selectedOffer.price,

          // No upsell
          upsell_type: 'Ninguno',
          upsell_price: 0,

          // Total final
          total_price: totalFromUI
        };

        // Fire-and-forget (no-cors mantiene la compatibilidad con GAS si no soporta CORS)
        await fetch(SCRIPT_URL, {
          method: "POST",
          mode: "no-cors",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify(data)
        });

        // Construye mensaje para WhatsApp
        const msg =
          `Hola, soy ${data.name}. Acabo de registrar mi pedido de *${data.offer}*.\n` +
          `‚Ä¢ Cantidad: ${data.qty || (data.qty_num ? data.qty_num+' unds.' : '')}\n` +
          `‚Ä¢ Total: ${formatCOP(data.total_price)}\n` +
          `‚Ä¢ Departamento: ${data.state}\n` +
          `‚Ä¢ Ciudad: ${data.city}\n` +
          `‚Ä¢ Direcci√≥n: ${data.address}\n` +
          `‚Ä¢ WhatsApp: ${data.phone}\n\n` +
          `Deseo coordinar el env√≠o. ¬°Gracias!`;

        const waURL = `https://wa.me/${WHATSAPP_DEST}?text=${encodeURIComponent(msg)}`;

        if (window.ttq) { ttq.track("Lead"); }
        


        // üëâ MOSTRAR EL GIF EN VEZ DEL TOAST
document.getElementById("gifMessage").style.display = "flex";


        // Cierra modal como haces ahora
closeModalAndReset();

// ==== NUEVO: restaurar el bot√≥n de env√≠o de forma segura ====
(function restoreSubmitButton() {
  if (!submitBtn) return;
  // Recuperar texto original guardado en dataset (si existe)
  const btnTextEl = submitBtn.querySelector('.btn-text');
  const original = (btnTextEl && btnTextEl.dataset._original) || submitBtn.dataset._original || "Confirmar pedido";
  if (btnTextEl) btnTextEl.textContent = original;
  else submitBtn.textContent = original;

  // habilitar y quitar clases de loading
  submitBtn.disabled = false;
  submitBtn.classList.remove('loading');

  // limpiar datos temporales
  try { delete submitBtn.dataset._original; } catch(e){}
  try { delete submitBtn.dataset._wasDisabled; } catch(e){}
})();

        // Redirige tras peque√±a espera para que el usuario vea el toast (opcional)
        setTimeout(()=>{document.getElementById("gifMessage").style.display = "none";; window.location.href = waURL; }, 5000);

      } catch (err){
        console.error(err);
        if (formMsg) formMsg.textContent = "‚ùå Hubo un error al enviar. Intenta nuevamente.";
        showToast("‚ùå Error al enviar");
        if (submitBtn && submitBtn.querySelector('.btn-text')) submitBtn.querySelector('.btn-text').textContent = "Confirmar pedido";
        if (submitBtn) submitBtn.disabled = false;
      }
    });

    // Limpia error al tipear
    if (form) form.querySelectorAll('.in').forEach(input => input.addEventListener('input', ()=> input.classList.remove('error')));

    // Lazy visible (opcional)
    if ('IntersectionObserver' in window) {
      const observer = new IntersectionObserver(entries=>{ entries.forEach(e=>{ if (e.isIntersecting) e.target.classList.add('visible'); }); }, { threshold:0.2 });
      document.querySelectorAll('img[loading="lazy"]').forEach(img=>observer.observe(img));
    }

    // ===== Contador 3h persistente por sesi√≥n =====
    const LS_KEY = 'zipper_countdown_end';
    const threeHours = 3*60*60*1000;
    let end = parseInt(localStorage.getItem(LS_KEY),10);
    if (!end || end < Date.now()) { end = Date.now() + threeHours; localStorage.setItem(LS_KEY, String(end)); }

    // Obtener todas las instancias del contador
    const allTH = Array.from(document.querySelectorAll('.t-h'));
    const allTM = Array.from(document.querySelectorAll('.t-m'));
    const allTS = Array.from(document.querySelectorAll('.t-s'));

    setInterval(()=>{
      const left = Math.max(0, end - Date.now());
      const h = String(Math.floor(left/3.6e6)).padStart(2,'0');
      const m = String(Math.floor(left%3.6e6/6e4)).padStart(2,'0');
      const s = String(Math.floor(left%6e4/1e3)).padStart(2,'0');

      allTH.forEach(el => el.textContent = h);
      allTM.forEach(el => el.textContent = m);
      allTS.forEach(el => el.textContent = s);
    },500);

    // ===== Carrusel de videos con reproducci√≥n del activo (manual) =====
    const track = document.querySelector('.carousel-track');
    const items = document.querySelectorAll('.carousel-item');
    const prevBtn = document.querySelector('.carousel-btn.prev');
    const nextBtn = document.querySelector('.carousel-btn.next');

    let currentIndex = 0;
    let userInteracted = false;

    function updateCarousel() {
      if (!track) return;
      track.style.transform = `translateX(-${currentIndex * 100}%)`;
      if (userInteracted) {
        items.forEach((item, i) => {
          const video = item.querySelector('video');
          if (i === currentIndex) {
            if (video) { video.currentTime = 0; video.play().catch(() => {}); }
          } else {
            if (video) video.pause();
          }
        });
      }
    }

    function nextVideo() { userInteracted = true; currentIndex = (currentIndex + 1) % items.length; updateCarousel(); }
    function prevVideo() { userInteracted = true; currentIndex = (currentIndex - 1 + items.length) % items.length; updateCarousel(); }
    if (nextBtn) nextBtn.addEventListener('click', nextVideo);
    if (prevBtn) prevBtn.addEventListener('click', prevVideo);

    let startX = 0;
    if (track) {
      track.addEventListener('touchstart', e => startX = e.touches[0].clientX, {passive:true});
      track.addEventListener('touchend', e => {
        const diff = e.changedTouches[0].clientX - startX;
        if (Math.abs(diff) > 50) {
          userInteracted = true;
          if (diff < 0) nextVideo();
          else prevVideo();
        }
      });
    }

    // Inicializa carrusel 2x2: clona slides para tener loop fluido si es necesario
    (function(){
      const container = document.querySelector('.carousel-container2');
      if (!container) return;
      const track2 = container.querySelector('.carousel-track2');
      let slides = Array.from(track2.children);

      slides.forEach(s => s.removeAttribute('style'));

      const originalCount = slides.length;
      if (originalCount === 0) return;

      let isAlreadyDuplicated = false;
      if (originalCount >= 2) {
        const firstHtml = slides.slice(0, originalCount).map(n => n.innerHTML).join('');
        const secondHtml = slides.slice(originalCount, originalCount*2).map(n => n.innerHTML).join('');
        isAlreadyDuplicated = firstHtml && (firstHtml === secondHtml);
      }

      if (!isAlreadyDuplicated) {
        slides.forEach(s => {
          const clone = s.cloneNode(true);
          track2.appendChild(clone);
        });
      }

      const totalSlides = track2.children.length;
      const baseDuration = 14;
      const duration = Math.max(8, Math.round(baseDuration * (totalSlides / Math.max(4, originalCount))));
      track2.style.animationDuration = duration + 's';

      container.addEventListener('focusin', ()=> track2.style.animationPlayState = 'paused');
      container.addEventListener('focusout', ()=> track2.style.animationPlayState = '');
    })();

    // Inicializador testimonios
    (function(){
      const carousels = document.querySelectorAll('.testimonial-carousel');
      if(!carousels.length) return;
      carousels.forEach(car => {
        const track = car.querySelector('.testimonial-track');
        if(!track) return;
        const slides = Array.from(track.children);
        if (slides.length === 0) return;
        const alreadyDuplicated = slides.slice(0, slides.length).every((el, idx) => {
          const next = track.children[idx + slides.length];
          return next && next.innerHTML === el.innerHTML;
        });
        if(!alreadyDuplicated){
          slides.forEach(s => track.appendChild(s.cloneNode(true)));
        }
        const configured = Number(track.getAttribute('data-speed')) || null;
        if(configured){
          const clamped = Math.max(6, configured);
          track.style.setProperty('--speed', clamped + 's');
        } else {
          const count = track.children.length;
          const computed = Math.max(10, Math.round(12 * (count / 4)));
          track.style.setProperty('--speed', computed + 's');
        }
      });
    })();

    // -------------------------
    // Safe activator (prevenir apertura por scroll/drag)
    // -------------------------
    (function(){
      const SCROLL_BLOCK_MS = 200;
      let scrolledRecently = false;
      let scrollTimer = null;

      function onScrollDetected() {
        scrolledRecently = true;
        if (scrollTimer) clearTimeout(scrollTimer);
        scrollTimer = setTimeout(()=> { scrolledRecently = false; scrollTimer = null; }, SCROLL_BLOCK_MS);
      }
      window.addEventListener('wheel', onScrollDetected, {passive:true});
      window.addEventListener('touchmove', onScrollDetected, {passive:true});
      window.addEventListener('scroll', onScrollDetected, {passive:true});

      const MOVE_THRESHOLD = 8;

      function addSafeActivator(el, handler) {
        if (!el) return;
        if (window.PointerEvent) {
          let startX = 0, startY = 0, moved = false, pointerId = null;

          function onPointerDown(e) {
            if (e.button && e.button !== 0) return;
            pointerId = e.pointerId || null;
            moved = false;
            startX = (e.clientX !== undefined) ? e.clientX : 0;
            startY = (e.clientY !== undefined) ? e.clientY : 0;
            document.addEventListener('pointermove', onPointerMove, {passive:true});
            document.addEventListener('pointerup', onPointerUp, {passive:false});
            document.addEventListener('pointercancel', cancelPointer, {passive:true});
          }

          function onPointerMove(e) {
            const dx = ((e.clientX||0) - startX);
            const dy = ((e.clientY||0) - startY);
            if ((dx*dx + dy*dy) > (MOVE_THRESHOLD * MOVE_THRESHOLD)) {
              moved = true;
            }
          }

          function onPointerUp(e) {
            document.removeEventListener('pointermove', onPointerMove);
            document.removeEventListener('pointerup', onPointerUp);
            document.removeEventListener('pointercancel', cancelPointer);
            if (scrolledRecently) return;
            if (moved) return;
            const target = document.elementFromPoint(e.clientX, e.clientY);
            if (!target) return;
            if (el.contains(target) || target === el) {
              if (e && e.preventDefault) e.preventDefault();
              handler(e);
            }
          }

          function cancelPointer() {
            document.removeEventListener('pointermove', onPointerMove);
            document.removeEventListener('pointerup', onPointerUp);
            document.removeEventListener('pointercancel', cancelPointer);
          }

          el.addEventListener('pointerdown', onPointerDown, {passive:true});
        } else {
          let startX = 0, startY = 0, moved = false, touchStarted = false;

          function onTouchStart(e) {
            touchStarted = true;
            const t = (e.touches && e.touches[0]) || {};
            startX = t.clientX || 0;
            startY = t.clientY || 0;
            moved = false;
            document.addEventListener('touchmove', onTouchMove, {passive:true});
            document.addEventListener('touchend', onTouchEnd, {passive:false});
          }
          function onTouchMove(e) {
            const t = (e.touches && e.touches[0]) || {};
            const dx = (t.clientX||0) - startX;
            const dy = (t.clientY||0) - startY;
            if ((dx*dx + dy*dy) > (MOVE_THRESHOLD * MOVE_THRESHOLD)) moved = true;
          }
          function onTouchEnd(e) {
            document.removeEventListener('touchmove', onTouchMove);
            document.removeEventListener('touchend', onTouchEnd);
            if (!touchStarted) return;
            touchStarted = false;
            if (scrolledRecently) return;
            if (moved) return;
            const t = (e.changedTouches && e.changedTouches[0]) || {};
            const target = document.elementFromPoint(t.clientX || 0, t.clientY || 0);
            if (!target) return;
            if (el.contains(target) || target === el) {
              if (e && e.preventDefault) e.preventDefault();
              handler(e);
            }
          }

          function onClickFallback(e) {
            if (scrolledRecently) {
              e && e.preventDefault();
              return;
            }
            handler(e);
          }

          el.addEventListener('touchstart', onTouchStart, {passive:true});
          el.addEventListener('click', onClickFallback, {passive:false});
        }

        el.addEventListener('keydown', function(e){
          if (e.key === 'Enter' || e.key === ' ') {
            e.preventDefault();
            handler(e);
          }
        });
      }

      // Apply safe activator to CTA(s)
      try {
        const ctas = Array.from(document.querySelectorAll('.open-checkout, a[href="#checkout"], [data-open-modal]'));
        ctas.forEach(el => addSafeActivator(el, openCheckout));
      } catch (err) {
        console.warn('Safe activator fallback', err);
        const fallbackEls = Array.from(document.querySelectorAll('.open-checkout, a[href="#checkout"], [data-open-modal]'));
        fallbackEls.forEach(el => { if(el) el.addEventListener('click', (e)=> { if (!e) return; if (e && e.preventDefault) e.preventDefault(); openCheckout(e); }); });
      }

    })();

  })();


  // ===== Barra de avance para video1 (sin controles) =====
(function () {
  const video = document.getElementById("video1");
  const fill = document.getElementById("videoProgressFill");
  if (!video || !fill) return;

  function updateProgress() {
    if (!video.duration || isNaN(video.duration)) return;
    const pct = Math.min(100, Math.max(0, (video.currentTime / video.duration) * 100));
    fill.style.width = pct + "%";
  }

  video.addEventListener("timeupdate", updateProgress);
  video.addEventListener("loadedmetadata", updateProgress);
  video.addEventListener("seeked", updateProgress);

  // Si el video se reinicia/loop, resetea la barra
  video.addEventListener("ended", () => { fill.style.width = "100%"; });
})();


// ===== Aviso "producto agotado" + cuenta regresiva = 70% de la duraci√≥n del video =====
(function () {
  const video = document.getElementById("video1");
  const countdownEl = document.getElementById("stockCountdown");
  const alertBox = document.getElementById("stockAlert");
  if (!video || !countdownEl || !alertBox) return;

  const LS_KEY = "stock_countdown_end_v2"; // cambia key para evitar valores viejos
  const RATIO = 0.60; // 60% del video

  function formatMMSS(ms) {
    const total = Math.max(0, Math.floor(ms / 1000));
    const m = String(Math.floor(total / 60)).padStart(2, "0");
    const s = String(total % 60).padStart(2, "0");
    return `${m}:${s}`;
  }

  let timer = null;

  function startCountdownWith(msTotal) {
    // si ya existe un countdown activo, no lo reinicies
    let end = parseInt(localStorage.getItem(LS_KEY), 10);
    if (!end || end < Date.now()) {
      end = Date.now() + msTotal;
      localStorage.setItem(LS_KEY, String(end));
    }

    const tick = () => {
      const left = Math.max(0, end - Date.now());
      countdownEl.textContent = formatMMSS(left);

      if (left <= 0) {
          // üëâ MOSTRAR MAIN AQU√ç (SINCRONIZADO)
  const main = document.querySelector("main");
  if (main && !main.classList.contains("show-main")) {
    main.classList.add("show-main");
  }
        alertBox.innerHTML =
          `<strong style="color: green; font-size: 22px;line-height: 30px;text-shadow: 1px 1.3px white;">INVENTARIO DISPONIBLE</strong> Puedes realizar tu pedido ahora. <br>  <span style="font-weight:600;color:#ffb300;border: 2px solid white;border-radius: 16px;padding: 6px 16px; line-height: 42px;box-shadow: 2px 2px 6px rgba(0,0,0,0.2);">
    <span id="stockUnits">100</span> unidades disponibles
  </span>`;

  // ===== Unidades (100 ‚Üí 0 en ~6 min) desde el AVISO INICIAL =====
(function () {
  const unitsEl = document.getElementById("stockUnits");
  if (!unitsEl) return;

  const LS_UNITS = "zipper_units_v1";
  const LS_LAST  = "zipper_units_last_v1";

  // inicia en 100 si no hay nada guardado
  let units = parseInt(localStorage.getItem(LS_UNITS), 10);
  if (isNaN(units)) units = 100;

  unitsEl.textContent = units;

  function rand(min, max) {
    return Math.floor(Math.random() * (max - min + 1)) + min;
  }

  function tick() {
    // si el elemento desaparece por cambios de HTML, reintenta
    const el = document.getElementById("stockUnits");
    if (!el) {
      setTimeout(tick, 500);
      return;
    }

    if (units <= 10) {
      el.textContent = "10";
      localStorage.setItem(LS_UNITS, "10");
      return;
    }

    // decremento realista: 1 unidad por tick (promedio ~6 min con delays 2-5s)
    units = Math.max(0, units - 1);

    el.textContent = units;
    localStorage.setItem(LS_UNITS, String(units));
    localStorage.setItem(LS_LAST, String(Date.now()));

    // siguiente tick entre 2 y 5 segundos
    setTimeout(tick, rand(2000, 5000));
  }

  // arranque: si recargan, sigue
  setTimeout(tick, rand(2000, 5000));
})();
        try { localStorage.removeItem(LS_KEY); } catch(e){}
        if (timer) clearInterval(timer);
      }
    };

    tick();
    timer = setInterval(tick, 250);
  }

  function initFromVideoDuration() {
    // duration puede tardar en estar disponible
    if (!video.duration || isNaN(video.duration) || video.duration === Infinity) return;

    const msTotal = Math.max(1000, Math.round(video.duration * RATIO * 1000));
    startCountdownWith(msTotal);

    // ya no necesitas seguir escuchando
    video.removeEventListener("loadedmetadata", initFromVideoDuration);
    video.removeEventListener("durationchange", initFromVideoDuration);
  }

  // intenta iniciar apenas haya metadata (y tambi√©n si cambia)
  video.addEventListener("loadedmetadata", initFromVideoDuration);
  video.addEventListener("durationchange", initFromVideoDuration);

  // fallback: si ya estaba cargada la metadata
  initFromVideoDuration();
})();





  </script>



</body></html>

